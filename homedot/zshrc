# command complement
autoload -U compinit
compinit

# Disable Ctrl+S(terminal lock)
stty stop undef

# oh-my-zsh
source ~/.zsh/oh-my-zsh

# environments
source ~/.zsh/env

# aliases
source ~/.zsh/alias

# git-ignored
[ -f ~/.zsh/secret ] && source ~/.zsh/secret

# extensions
source ~/.zsh/functions

# rbenv
which rbenv > /dev/null 2>&1 && eval "$(rbenv init -)"

# direnv
eval "$(direnv hook zsh)" > /dev/null 2>&1

# added by travis gem
[ -f ~/.travis/travis.sh ] && source ~/.travis/travis.sh
[ $commands[kubectl] ] && source <(kubectl completion zsh)

# history
HISTFILE=~/.history-zsh
HISTSIZE=1000000
SAVEHIST=1000000
setopt APPEND_HISTORY
## for sharing history between zsh processes
setopt INC_APPEND_HISTORY
setopt SHARE_HISTORY
# allow tab completion in the middle of a word
setopt COMPLETE_IN_WORD
# enable color
autoload -U colors; colors
# prompt
PROMPT="
%{$fg_bold[blue]%}${HOST[0,7]} ${PROMPT}%{%(?.$fg[cyan].$fg[red])%}%(?.(▰╹◡╹%).ヾ(｡>﹏<｡%)ﾉ)%{$reset_color%}%b "
## continuation of command
PROMPT2='%B%_%(?.%f.%S%F)%b %#%f%s '
## auto correct
setopt correct
SPROMPT="%r is correct? [n,y,a,e]: "
